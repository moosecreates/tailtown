"use strict";(self.webpackChunktailtown_frontend=self.webpackChunktailtown_frontend||[]).push([[7780],{47780:(e,t,s)=>{s.r(t),s.d(t,{default:()=>pe});var n=s(89379),i=s(9950),r=s(28429),a=s(42074),o=s(14857),l=s(72930),d=s(78317),c=s(46639),x=s(62999),m=s(82053),h=s(66699),u=s(65429),p=s(2235),A=s(32856),j=s(89007),y=s(44414);const g=(0,i.createContext)(void 0),v=e=>{let{children:t}=e;const[s,r]=(0,i.useState)(null),[a,o]=(0,i.useState)(!0);(0,i.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("customer");e&&r(JSON.parse(e))}catch(e){console.error("Error checking session:",e)}finally{o(!1)}})()},[]);return(0,y.jsx)(g.Provider,{value:{customer:s,isAuthenticated:!!s,isLoading:a,login:async(e,t)=>{try{const t=await j.m.searchCustomers(e,1,1);if(!(t.data&&t.data.length>0))throw new Error("Customer not found");{const e=t.data[0];r(e),localStorage.setItem("customer",JSON.stringify(e))}}catch(s){throw console.error("Login error:",s),s}},signup:async e=>{try{const t=await j.m.createCustomer({firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone,address:e.address,city:e.city,state:e.state,zipCode:e.zipCode,emergencyContact:e.emergencyContact,emergencyPhone:e.emergencyPhone,isActive:!0});r(t),localStorage.setItem("customer",JSON.stringify(t))}catch(t){throw console.error("Signup error:",t),t}},logout:()=>{r(null),localStorage.removeItem("customer")},updateCustomer:e=>{if(s){const t=(0,n.A)((0,n.A)({},s),e);r(t),localStorage.setItem("customer",JSON.stringify(t))}}},children:t})},f=()=>{const e=(0,i.useContext)(g);if(void 0===e)throw new Error("useCustomerAuth must be used within CustomerAuthProvider");return e};var b=s(48089),C=s(69019),w=s(84142),S=s(50704),k=s(8145),I=s(36080),P=s(10226),W=s(60899),N=s(26014),D=s(20227);const z=e=>{let{onSuccess:t}=e;const{login:s,signup:r}=f(),[a,o]=(0,i.useState)(0),[l,x]=(0,i.useState)(!1),[h,p]=(0,i.useState)(""),[A,j]=(0,i.useState)(""),[g,v]=(0,i.useState)(""),[z,B]=(0,i.useState)({firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:"",address:"",city:"",state:"",zipCode:"",emergencyContact:"",emergencyPhone:""}),O=e=>t=>{B(s=>(0,n.A)((0,n.A)({},s),{},{[e]:t.target.value}))};return(0,y.jsxs)(d.A,{sx:{maxWidth:600,mx:"auto",py:4},children:[(0,y.jsx)(m.A,{variant:"h4",component:"h1",gutterBottom:!0,sx:{textAlign:"center",fontWeight:700,mb:3,fontSize:{xs:"1.75rem",sm:"2.125rem"}},children:"Welcome to Tailtown"}),(0,y.jsx)(m.A,{variant:"body1",color:"text.secondary",sx:{textAlign:"center",mb:4},children:"Please sign in or create an account to continue booking"}),(0,y.jsxs)(b.A,{elevation:3,children:[(0,y.jsxs)(C.A,{value:a,onChange:(e,t)=>{o(t),p("")},variant:"fullWidth",sx:{borderBottom:1,borderColor:"divider"},children:[(0,y.jsx)(w.A,{label:"Login"}),(0,y.jsx)(w.A,{label:"Create Account"})]}),(0,y.jsxs)(S.A,{sx:{p:{xs:2,sm:4}},children:[h&&(0,y.jsx)(u.A,{severity:"error",sx:{mb:3},onClose:()=>p(""),children:h}),0===a&&(0,y.jsxs)(d.A,{component:"form",onSubmit:async e=>{if(e.preventDefault(),p(""),A&&g)try{x(!0),await s(A,g),t()}catch(n){p(n.message||"Login failed. Please check your credentials.")}finally{x(!1)}else p("Please enter email and password")},children:[(0,y.jsx)(k.A,{label:"Email",type:"email",fullWidth:!0,required:!0,value:A,onChange:e=>j(e.target.value),sx:{mb:3},autoComplete:"email"}),(0,y.jsx)(k.A,{label:"Password",type:"password",fullWidth:!0,required:!0,value:g,onChange:e=>v(e.target.value),sx:{mb:2},autoComplete:"current-password"}),(0,y.jsx)(d.A,{sx:{textAlign:"right",mb:3},children:(0,y.jsx)(I.A,{href:"#",variant:"body2",onClick:e=>{e.preventDefault(),alert("Password reset feature coming soon!")},children:"Forgot password?"})}),(0,y.jsx)(P.A,{type:"submit",variant:"contained",size:"large",fullWidth:!0,disabled:l,startIcon:l?(0,y.jsx)(c.A,{size:20}):(0,y.jsx)(N.A,{}),children:l?"Signing In...":"Sign In"})]}),1===a&&(0,y.jsxs)(d.A,{component:"form",onSubmit:async e=>{if(e.preventDefault(),p(""),z.firstName&&z.lastName&&z.email&&z.phone)if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(z.email))if(!z.password||z.password.length<6)p("Password must be at least 6 characters");else if(z.password===z.confirmPassword)try{x(!0),await r(z),t()}catch(s){p(s.message||"Signup failed. Please try again.")}finally{x(!1)}else p("Passwords do not match");else p("Please enter a valid email address");else p("Please fill in all required fields")},children:[(0,y.jsxs)(W.Ay,{container:!0,spacing:2,children:[(0,y.jsx)(W.Ay,{item:!0,xs:12,children:(0,y.jsx)(m.A,{variant:"h6",gutterBottom:!0,sx:{fontSize:"1rem",fontWeight:600},children:"Personal Information"})}),(0,y.jsx)(W.Ay,{item:!0,xs:12,sm:6,children:(0,y.jsx)(k.A,{label:"First Name",fullWidth:!0,required:!0,value:z.firstName,onChange:O("firstName"),autoComplete:"given-name"})}),(0,y.jsx)(W.Ay,{item:!0,xs:12,sm:6,children:(0,y.jsx)(k.A,{label:"Last Name",fullWidth:!0,required:!0,value:z.lastName,onChange:O("lastName"),autoComplete:"family-name"})}),(0,y.jsx)(W.Ay,{item:!0,xs:12,children:(0,y.jsx)(k.A,{label:"Email",type:"email",fullWidth:!0,required:!0,value:z.email,onChange:O("email"),autoComplete:"email"})}),(0,y.jsx)(W.Ay,{item:!0,xs:12,children:(0,y.jsx)(k.A,{label:"Phone Number",type:"tel",fullWidth:!0,required:!0,value:z.phone,onChange:O("phone"),placeholder:"(555) 123-4567",autoComplete:"tel"})}),(0,y.jsx)(W.Ay,{item:!0,xs:12,children:(0,y.jsx)(m.A,{variant:"h6",gutterBottom:!0,sx:{fontSize:"1rem",fontWeight:600,mt:2},children:"Create Password"})}),(0,y.jsx)(W.Ay,{item:!0,xs:12,sm:6,children:(0,y.jsx)(k.A,{label:"Password",type:"password",fullWidth:!0,required:!0,value:z.password,onChange:O("password"),helperText:"At least 6 characters",autoComplete:"new-password"})}),(0,y.jsx)(W.Ay,{item:!0,xs:12,sm:6,children:(0,y.jsx)(k.A,{label:"Confirm Password",type:"password",fullWidth:!0,required:!0,value:z.confirmPassword,onChange:O("confirmPassword"),autoComplete:"new-password"})}),(0,y.jsx)(W.Ay,{item:!0,xs:12,children:(0,y.jsx)(m.A,{variant:"h6",gutterBottom:!0,sx:{fontSize:"1rem",fontWeight:600,mt:2},children:"Address (Optional)"})}),(0,y.jsx)(W.Ay,{item:!0,xs:12,children:(0,y.jsx)(k.A,{label:"Street Address",fullWidth:!0,value:z.address,onChange:O("address"),autoComplete:"street-address"})}),(0,y.jsx)(W.Ay,{item:!0,xs:12,sm:6,children:(0,y.jsx)(k.A,{label:"City",fullWidth:!0,value:z.city,onChange:O("city"),autoComplete:"address-level2"})}),(0,y.jsx)(W.Ay,{item:!0,xs:12,sm:3,children:(0,y.jsx)(k.A,{label:"State",fullWidth:!0,value:z.state,onChange:O("state"),inputProps:{maxLength:2},autoComplete:"address-level1"})}),(0,y.jsx)(W.Ay,{item:!0,xs:12,sm:3,children:(0,y.jsx)(k.A,{label:"ZIP Code",fullWidth:!0,value:z.zipCode,onChange:O("zipCode"),inputProps:{maxLength:10},autoComplete:"postal-code"})}),(0,y.jsx)(W.Ay,{item:!0,xs:12,children:(0,y.jsx)(m.A,{variant:"h6",gutterBottom:!0,sx:{fontSize:"1rem",fontWeight:600,mt:2},children:"Emergency Contact (Optional)"})}),(0,y.jsx)(W.Ay,{item:!0,xs:12,sm:6,children:(0,y.jsx)(k.A,{label:"Emergency Contact Name",fullWidth:!0,value:z.emergencyContact,onChange:O("emergencyContact")})}),(0,y.jsx)(W.Ay,{item:!0,xs:12,sm:6,children:(0,y.jsx)(k.A,{label:"Emergency Contact Phone",type:"tel",fullWidth:!0,value:z.emergencyPhone,onChange:O("emergencyPhone")})})]}),(0,y.jsx)(P.A,{type:"submit",variant:"contained",size:"large",fullWidth:!0,disabled:l,startIcon:l?(0,y.jsx)(c.A,{size:20}):(0,y.jsx)(D.A,{}),sx:{mt:4},children:l?"Creating Account...":"Create Account"})]})]})]}),(0,y.jsxs)(m.A,{variant:"body2",color:"text.secondary",sx:{textAlign:"center",mt:3},children:["By continuing, you agree to our"," ",(0,y.jsx)(I.A,{href:"/terms",target:"_blank",children:"Terms of Service"})," ","and"," ",(0,y.jsx)(I.A,{href:"/privacy",target:"_blank",children:"Privacy Policy"})]})]})};var B=s(41413),O=s(25277),T=s(4477),E=s(3507),R=s(7168),L=s(6163),Y=s(11227),U=s(41976);const F=e=>{let{bookingData:t,onNext:s,onUpdate:n}=e;const[r,a]=(0,i.useState)([]),[o,l]=(0,i.useState)(!0),[x,h]=(0,i.useState)(""),[p,A]=(0,i.useState)(null);(0,i.useEffect)(()=>{j()},[]);const j=async()=>{try{var e;l(!0);const s=await U.V.getAllServices(),n=(null===(e=s.data)||void 0===e?void 0:e.data)||s.data||[];if(a(n),t.serviceId){const e=n.find(e=>e.id===t.serviceId);e&&A(e)}h("")}catch(s){console.error("Error loading services:",s),h("Unable to load services. Please try again.")}finally{l(!1)}},g=e=>{switch(e.toUpperCase()){case"BOARDING":default:return(0,y.jsx)(T.A,{sx:{fontSize:{xs:40,sm:48}}});case"DAYCARE":return(0,y.jsx)(E.A,{sx:{fontSize:{xs:40,sm:48}}});case"GROOMING":return(0,y.jsx)(R.A,{sx:{fontSize:{xs:40,sm:48}}});case"TRAINING":return(0,y.jsx)(L.A,{sx:{fontSize:{xs:40,sm:48}}})}},v=e=>{switch(e.toUpperCase()){case"BOARDING":return"#1976d2";case"DAYCARE":return"#ff9800";case"GROOMING":return"#9c27b0";case"TRAINING":return"#4caf50";default:return"#757575"}};if(o)return(0,y.jsx)(d.A,{sx:{display:"flex",justifyContent:"center",py:8},children:(0,y.jsx)(c.A,{})});if(x)return(0,y.jsxs)(u.A,{severity:"error",sx:{mb:3},children:[x,(0,y.jsx)(P.A,{onClick:j,sx:{ml:2},children:"Retry"})]});const f=(()=>{const e=r.reduce((e,t)=>{const s=t.serviceCategory;return e[s]||(e[s]=[]),e[s].push(t),e},{});return["BOARDING","DAYCARE","GROOMING","TRAINING"].reduce((t,s)=>(e[s]&&t.push([s,e[s]]),t),[])})();return(0,y.jsxs)(d.A,{children:[(0,y.jsx)(m.A,{variant:"h5",component:"h2",gutterBottom:!0,sx:{fontSize:{xs:"1.25rem",sm:"1.5rem"},fontWeight:600,mb:3},children:"What service would you like to book?"}),f.map(e=>{let[t,i]=e;return(0,y.jsxs)(d.A,{sx:{mb:4},children:[(0,y.jsxs)(d.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,y.jsx)(d.A,{sx:{color:v(t),mr:1},children:g(t)}),(0,y.jsx)(m.A,{variant:"h6",sx:{fontSize:{xs:"1rem",sm:"1.25rem"},fontWeight:600,textTransform:"capitalize"},children:t.toLowerCase()})]}),(0,y.jsx)(W.Ay,{container:!0,spacing:2,children:i.map(e=>(0,y.jsx)(W.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,y.jsx)(b.A,{elevation:(null===p||void 0===p?void 0:p.id)===e.id?8:2,sx:{height:"100%",border:(null===p||void 0===p?void 0:p.id)===e.id?"3px solid":"1px solid",borderColor:(null===p||void 0===p?void 0:p.id)===e.id?"primary.main":"divider",transition:"all 0.2s ease-in-out","&:hover":{transform:"translateY(-2px)",boxShadow:4}},children:(0,y.jsxs)(S.A,{sx:{p:{xs:1,sm:1.5}},children:[(0,y.jsxs)(d.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,y.jsx)(B.A,{sx:{width:{xs:36,sm:40},height:{xs:36,sm:40},bgcolor:v(e.serviceCategory),fontSize:{xs:"1.1rem",sm:"1.25rem"}},children:g(e.serviceCategory)}),(0,y.jsxs)(d.A,{sx:{flex:1,minWidth:0},children:[(0,y.jsx)(m.A,{variant:"subtitle1",component:"h3",sx:{fontSize:{xs:"0.875rem",sm:"0.95rem"},fontWeight:600,lineHeight:1.2,mb:.25},children:e.name}),e.description&&(0,y.jsx)(m.A,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.7rem",sm:"0.75rem"},lineHeight:1.3,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:e.description})]}),(null===p||void 0===p?void 0:p.id)===e.id&&(0,y.jsx)(Y.A,{color:"primary",sx:{fontSize:{xs:20,sm:24},flexShrink:0}})]}),(0,y.jsxs)(d.A,{sx:{mt:1},children:[(0,y.jsxs)(d.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[(0,y.jsxs)(m.A,{variant:"h6",color:"primary",fontWeight:700,sx:{fontSize:{xs:"0.95rem",sm:"1.1rem"}},children:["$",e.price.toFixed(2)]}),e.duration&&(0,y.jsx)(O.A,{label:"".concat(e.duration," min"),size:"small",variant:"outlined",sx:{height:{xs:18,sm:20},fontSize:{xs:"0.6rem",sm:"0.65rem"},"& .MuiChip-label":{px:.75}}})]}),(0,y.jsx)(P.A,{variant:"contained",fullWidth:!0,size:"small",onClick:()=>(e=>{A(e),n({serviceId:e.id,servicePrice:e.price}),setTimeout(()=>{s()},300)})(e),sx:{py:{xs:.5,sm:.75},fontSize:{xs:"0.75rem",sm:"0.875rem"},fontWeight:600,textTransform:"none"},children:"Reserve Now"})]})]})})},e.id))})]},t)})]})};var M=s(14801),G=s(31113),q=s(31422);s(4434);const $=e=>{let{bookingData:t,onNext:s,onBack:n,onUpdate:r}=e;const[a,o]=(0,i.useState)(t.startDate?new Date(t.startDate):null),[l,c]=(0,i.useState)(t.endDate?new Date(t.endDate):null),[x,h]=(0,i.useState)(!0),[u,A]=(0,i.useState)(!1),j=(0,i.useRef)(null);return(0,y.jsxs)(d.A,{children:[(0,y.jsx)(m.A,{variant:"h5",gutterBottom:!0,sx:{fontSize:{xs:"1.25rem",sm:"1.5rem"}},children:"When would you like to book?"}),(0,y.jsx)(p.A,{elevation:2,sx:{p:3,mb:3},children:(0,y.jsxs)(W.Ay,{container:!0,spacing:3,children:[(0,y.jsx)(W.Ay,{item:!0,xs:12,md:6,children:(0,y.jsxs)(d.A,{children:[(0,y.jsx)(m.A,{variant:"subtitle2",gutterBottom:!0,sx:{fontWeight:600,mb:1},children:"Start Date"}),(0,y.jsx)(m.A,{variant:"caption",color:"text.secondary",display:"block",sx:{mb:2},children:"Select your check-in date"}),(0,y.jsx)(d.A,{className:"inline-date-picker",children:(0,y.jsx)(q.Ay,{ref:j,selected:a,onChange:e=>{const t=e;o(t),t&&l&&l<t&&c(null),t&&(h(!1),setTimeout(()=>A(!0),200))},minDate:new Date,inline:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select"})})]})}),(0,y.jsx)(W.Ay,{item:!0,xs:12,md:6,children:(0,y.jsxs)(d.A,{children:[(0,y.jsx)(m.A,{variant:"subtitle2",gutterBottom:!0,sx:{fontWeight:600,mb:1},children:"End Date"}),(0,y.jsx)(m.A,{variant:"caption",color:"text.secondary",display:"block",sx:{mb:2},children:"Select your check-out date"}),(0,y.jsx)(d.A,{className:"inline-date-picker",sx:{opacity:a?1:.5},children:(0,y.jsx)(q.Ay,{selected:l,onChange:e=>{const t=e;c(t),t&&A(!1)},minDate:a||new Date,inline:!0,disabled:!a,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select"})}),!a&&(0,y.jsx)(m.A,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block",fontStyle:"italic"},children:"Please select a start date first"})]})})]})}),(0,y.jsxs)(d.A,{sx:{display:"flex",justifyContent:"space-between",mt:4},children:[(0,y.jsx)(P.A,{variant:"outlined",onClick:n,startIcon:(0,y.jsx)(M.A,{}),children:"Back"}),(0,y.jsx)(P.A,{variant:"contained",onClick:()=>{r({startDate:null===a||void 0===a?void 0:a.toISOString().split("T")[0],endDate:null===l||void 0===l?void 0:l.toISOString().split("T")[0]}),s()},disabled:!a||!l,endIcon:(0,y.jsx)(G.A,{}),children:"Continue"})]})]})};var V=s(38039),H=s(35286);const _=e=>{let{bookingData:t,onNext:s,onBack:n,onUpdate:r}=e;const{customer:a}=f(),[o,l]=(0,i.useState)(""),[x,h]=(0,i.useState)([]),[p,A]=(0,i.useState)(t.petIds||[]),[j,g]=(0,i.useState)(!1);(0,i.useEffect)(()=>{a&&v(a.id)},[a]);const v=async e=>{try{g(!0);const t=await H.B.getPetsByCustomer(e),s=(t.data||[]).filter(e=>e.isActive);if(h(s),1===s.length){const e=s[0].id;A([e]),r({petIds:[e]})}l("")}catch(t){console.error("Error loading pets:",t),l("Unable to load pets. Please try again."),h([])}finally{g(!1)}};return(0,y.jsxs)(d.A,{children:[(0,y.jsx)(m.A,{variant:"h5",component:"h2",gutterBottom:!0,sx:{fontSize:{xs:"1.25rem",sm:"1.5rem"},fontWeight:600,mb:3},children:"Select Your Pets"}),o&&(0,y.jsx)(u.A,{severity:"error",sx:{mb:3},onClose:()=>l(""),children:o}),a&&(0,y.jsx)(b.A,{sx:{mb:3,bgcolor:"primary.50",borderLeft:"4px solid",borderColor:"primary.main"},children:(0,y.jsxs)(S.A,{children:[(0,y.jsx)(m.A,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Booking for:"}),(0,y.jsxs)(m.A,{variant:"h6",children:[a.firstName," ",a.lastName]}),(0,y.jsxs)(m.A,{variant:"body2",color:"text.secondary",children:[a.email," \u2022 ",a.phone]})]})}),a&&(0,y.jsxs)(d.A,{children:[(0,y.jsxs)(m.A,{variant:"subtitle1",gutterBottom:!0,sx:{fontWeight:600,mb:2},children:["Select Pets (",p.length," selected)"]}),j?(0,y.jsx)(d.A,{sx:{display:"flex",justifyContent:"center",py:4},children:(0,y.jsx)(c.A,{})}):0===x.length?(0,y.jsx)(u.A,{severity:"info",children:"No active pets found for this customer. Please add pets to the customer account first."}):(0,y.jsx)(W.Ay,{container:!0,spacing:2,children:x.map(e=>{return(0,y.jsx)(W.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,y.jsx)(b.A,{elevation:p.includes(e.id)?8:2,sx:{height:"100%",border:p.includes(e.id)?"3px solid":"1px solid",borderColor:p.includes(e.id)?"primary.main":"divider",transition:"all 0.2s ease-in-out","&:hover":{transform:"translateY(-4px)",boxShadow:6}},children:(0,y.jsx)(V.A,{onClick:()=>{return t=e.id,void A(e=>{const s=e.includes(t)?e.filter(e=>e!==t):[...e,t];return r({petIds:s}),s});var t},sx:{height:"100%"},children:(0,y.jsxs)(S.A,{children:[(0,y.jsxs)(d.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,y.jsx)(B.A,{sx:{width:56,height:56,bgcolor:"primary.main",fontSize:"2rem",mr:2},children:(t=e.type,"DOG"===t?"\ud83d\udc15":"CAT"===t?"\ud83d\udc08":"\ud83d\udc3e")}),(0,y.jsxs)(d.A,{sx:{flex:1},children:[(0,y.jsx)(m.A,{variant:"h6",component:"h3",children:e.name}),(0,y.jsx)(m.A,{variant:"body2",color:"text.secondary",children:e.breed||e.type})]}),p.includes(e.id)&&(0,y.jsx)(Y.A,{color:"primary",sx:{fontSize:32}})]}),(0,y.jsxs)(d.A,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[(0,y.jsx)(O.A,{label:e.type,size:"small",color:"primary",variant:"outlined"}),e.gender&&(0,y.jsx)(O.A,{label:e.gender,size:"small",variant:"outlined"}),e.weight&&(0,y.jsx)(O.A,{label:"".concat(e.weight," lbs"),size:"small",variant:"outlined"})]}),e.specialNeeds&&(0,y.jsx)(m.A,{variant:"caption",color:"warning.main",sx:{display:"block",mt:1,fontWeight:600},children:"\u26a0\ufe0f Special needs"})]})})})},e.id);var t})})]}),(0,y.jsxs)(d.A,{sx:{position:{xs:"fixed",sm:"static"},bottom:{xs:0,sm:"auto"},left:{xs:0,sm:"auto"},right:{xs:0,sm:"auto"},p:{xs:2,sm:0},mt:{xs:0,sm:4},bgcolor:{xs:"background.paper",sm:"transparent"},boxShadow:{xs:"0 -2px 10px rgba(0,0,0,0.1)",sm:"none"},zIndex:{xs:1e3,sm:"auto"},display:"flex",justifyContent:"space-between"},children:[(0,y.jsx)(P.A,{variant:"outlined",size:"large",onClick:n,startIcon:(0,y.jsx)(M.A,{}),sx:{py:{xs:1.5,sm:1.5}},children:"Back"}),(0,y.jsx)(P.A,{variant:"contained",size:"large",onClick:()=>{0!==p.length?s():l("Please select at least one pet")},disabled:0===p.length,endIcon:(0,y.jsx)(G.A,{}),sx:{py:{xs:1.5,sm:1.5}},children:"Continue to Add-Ons"})]}),a&&(0,y.jsx)(d.A,{sx:{display:{xs:"block",sm:"none"},height:80}})]})};var J=s(87687);const Z=e=>{let{bookingData:t,onNext:s,onBack:n,onUpdate:r}=e;const[a,o]=(0,i.useState)([]),[l,x]=(0,i.useState)(t.addOnIds||[]),[h,p]=(0,i.useState)(!0),[A,j]=(0,i.useState)("");(0,i.useEffect)(()=>{g()},[t.serviceId]);const g=async()=>{try{p(!0);const e=await J.A.getAllAddOns(t.serviceId);o(e.filter(e=>e.isActive)),j("")}catch(e){console.error("Error loading add-ons:",e),j("Unable to load add-ons. You can skip this step."),o([])}finally{p(!1)}},v=e=>{x(t=>{const s=t.includes(e)?t.filter(t=>t!==e):[...t,e],n=a.filter(e=>s.includes(e.id)).reduce((e,t)=>e+t.price,0);return r({addOnIds:s,addOnTotal:n}),s})};return(0,y.jsxs)(d.A,{children:[(0,y.jsx)(m.A,{variant:"h5",component:"h2",gutterBottom:!0,sx:{fontSize:{xs:"1.25rem",sm:"1.5rem"},fontWeight:600,mb:3},children:"Add-Ons & Extras"}),(0,y.jsx)(m.A,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"Enhance your pet's stay with these optional services"}),A&&(0,y.jsx)(u.A,{severity:"warning",sx:{mb:3},children:A}),h?(0,y.jsx)(d.A,{sx:{display:"flex",justifyContent:"center",py:8},children:(0,y.jsx)(c.A,{})}):0===a.length?(0,y.jsx)(u.A,{severity:"info",sx:{mb:3},children:"No add-ons available for this service. Click continue to proceed."}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(W.Ay,{container:!0,spacing:2,children:a.map(e=>(0,y.jsx)(W.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,y.jsx)(b.A,{elevation:l.includes(e.id)?8:2,sx:{height:"100%",border:l.includes(e.id)?"3px solid":"1px solid",borderColor:l.includes(e.id)?"primary.main":"divider",transition:"all 0.2s ease-in-out","&:hover":{transform:"translateY(-4px)",boxShadow:6}},children:(0,y.jsx)(V.A,{onClick:()=>v(e.id),sx:{height:"100%"},children:(0,y.jsxs)(S.A,{children:[(0,y.jsxs)(d.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[(0,y.jsx)(m.A,{variant:"h6",component:"h3",sx:{fontSize:{xs:"1rem",sm:"1.125rem"},fontWeight:600,flex:1},children:e.name}),l.includes(e.id)&&(0,y.jsx)(Y.A,{color:"primary",sx:{ml:1}})]}),e.description&&(0,y.jsx)(m.A,{variant:"body2",color:"text.secondary",sx:{mb:2,minHeight:40},children:e.description}),(0,y.jsxs)(d.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,y.jsx)(O.A,{label:"+$".concat(e.price.toFixed(2)),color:"primary",size:"small",sx:{fontWeight:600}}),e.duration&&(0,y.jsx)(O.A,{label:"".concat(e.duration," min"),size:"small",variant:"outlined"})]})]})})})},e.id))}),l.length>0&&(0,y.jsx)(b.A,{sx:{mt:3,bgcolor:"primary.50",borderLeft:"4px solid",borderColor:"primary.main"},children:(0,y.jsxs)(S.A,{children:[(0,y.jsxs)(m.A,{variant:"subtitle1",fontWeight:600,gutterBottom:!0,children:["Selected Add-Ons (",l.length,")"]}),(0,y.jsx)(d.A,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:2},children:a.filter(e=>l.includes(e.id)).map(e=>(0,y.jsx)(O.A,{label:"".concat(e.name," - $").concat(e.price.toFixed(2)),onDelete:()=>v(e.id),color:"primary"},e.id))}),(0,y.jsxs)(m.A,{variant:"h6",color:"primary",children:["Add-Ons Total: $",a.filter(e=>l.includes(e.id)).reduce((e,t)=>e+t.price,0).toFixed(2)]})]})})]}),(0,y.jsxs)(d.A,{sx:{position:{xs:"fixed",sm:"static"},bottom:{xs:0,sm:"auto"},left:{xs:0,sm:"auto"},right:{xs:0,sm:"auto"},p:{xs:2,sm:0},mt:{xs:0,sm:4},bgcolor:{xs:"background.paper",sm:"transparent"},boxShadow:{xs:"0 -2px 10px rgba(0,0,0,0.1)",sm:"none"},zIndex:{xs:1e3,sm:"auto"},display:"flex",justifyContent:"space-between",gap:2},children:[(0,y.jsx)(P.A,{variant:"outlined",size:"large",onClick:n,startIcon:(0,y.jsx)(M.A,{}),sx:{py:{xs:1.5,sm:1.5}},children:"Back"}),(0,y.jsxs)(d.A,{sx:{display:"flex",gap:1},children:[a.length>0&&(0,y.jsx)(P.A,{variant:"outlined",size:"large",onClick:()=>{r({addOnIds:[],addOnTotal:0}),s()},sx:{py:{xs:1.5,sm:1.5}},children:"Skip"}),(0,y.jsx)(P.A,{variant:"contained",size:"large",onClick:()=>{s()},endIcon:(0,y.jsx)(G.A,{}),sx:{py:{xs:1.5,sm:1.5}},children:"Continue"})]})]}),(0,y.jsx)(d.A,{sx:{display:{xs:"block",sm:"none"},height:80}})]})},K=e=>{let{bookingData:t,onNext:s,onBack:n,onUpdate:r}=e;const{customer:a}=f(),[o,l]=(0,i.useState)("");return(0,y.jsxs)(d.A,{children:[(0,y.jsx)(m.A,{variant:"h5",component:"h2",gutterBottom:!0,sx:{fontSize:{xs:"1.25rem",sm:"1.5rem"},fontWeight:600,mb:3},children:"Your Information"}),o&&(0,y.jsx)(u.A,{severity:"error",sx:{mb:3},onClose:()=>l(""),children:o}),a&&(0,y.jsx)(b.A,{sx:{mb:3,bgcolor:"success.50",borderLeft:"4px solid",borderColor:"success.main"},children:(0,y.jsxs)(S.A,{children:[(0,y.jsxs)(d.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,y.jsx)(Y.A,{color:"success",sx:{mr:1}}),(0,y.jsx)(m.A,{variant:"h6",color:"success.main",children:"Account Verified"})]}),(0,y.jsxs)(W.Ay,{container:!0,spacing:2,children:[(0,y.jsxs)(W.Ay,{item:!0,xs:12,children:[(0,y.jsx)(m.A,{variant:"subtitle2",color:"text.secondary",children:"Personal Information"}),(0,y.jsxs)(m.A,{variant:"body1",sx:{fontWeight:600},children:[a.firstName," ",a.lastName]}),(0,y.jsx)(m.A,{variant:"body2",color:"text.secondary",children:a.email}),(0,y.jsx)(m.A,{variant:"body2",color:"text.secondary",children:a.phone})]}),(a.address||a.city||a.state||a.zipCode)&&(0,y.jsxs)(W.Ay,{item:!0,xs:12,children:[(0,y.jsx)(m.A,{variant:"subtitle2",color:"text.secondary",sx:{mt:2},children:"Address"}),(0,y.jsx)(m.A,{variant:"body2",children:a.address}),(0,y.jsxs)(m.A,{variant:"body2",children:[a.city,", ",a.state," ",a.zipCode]})]}),(a.emergencyContact||a.emergencyPhone)&&(0,y.jsxs)(W.Ay,{item:!0,xs:12,children:[(0,y.jsx)(m.A,{variant:"subtitle2",color:"text.secondary",sx:{mt:2},children:"Emergency Contact"}),(0,y.jsx)(m.A,{variant:"body2",children:a.emergencyContact}),(0,y.jsx)(m.A,{variant:"body2",children:a.emergencyPhone})]})]}),(0,y.jsx)(u.A,{severity:"info",sx:{mt:3},children:"Need to update your information? Please contact us or update your account settings."})]})}),(0,y.jsxs)(d.A,{sx:{position:{xs:"fixed",sm:"static"},bottom:{xs:0,sm:"auto"},left:{xs:0,sm:"auto"},right:{xs:0,sm:"auto"},p:{xs:2,sm:0},mt:{xs:0,sm:4},bgcolor:{xs:"background.paper",sm:"transparent"},boxShadow:{xs:"0 -2px 10px rgba(0,0,0,0.1)",sm:"none"},zIndex:{xs:1e3,sm:"auto"},display:"flex",justifyContent:"space-between"},children:[(0,y.jsx)(P.A,{variant:"outlined",size:"large",onClick:n,startIcon:(0,y.jsx)(M.A,{}),sx:{py:{xs:1.5,sm:1.5}},children:"Back"}),(0,y.jsx)(P.A,{variant:"contained",size:"large",onClick:()=>{s()},endIcon:(0,y.jsx)(G.A,{}),sx:{py:{xs:1.5,sm:1.5}},children:"Continue to Review"})]}),(0,y.jsx)(d.A,{sx:{display:{xs:"block",sm:"none"},height:80}})]})};var Q=s(74745),X=s(16497),ee=s(93038),te=s(50294),se=s(43279),ne=s(73753),ie=s(76812),re=s(69179),ae=s(45295);const oe=e=>{var t;let{bookingData:s,onNext:n,onBack:r,onUpdate:a}=e;const{customer:o}=f(),[l,x]=(0,i.useState)(!1),[h,p]=(0,i.useState)(""),[A,j]=(0,i.useState)(!1),[g,v]=(0,i.useState)(!1),[C,w]=(0,i.useState)(""),[I,N]=(0,i.useState)(""),[D,z]=(0,i.useState)(""),[B,T]=(0,i.useState)("".concat((null===o||void 0===o?void 0:o.firstName)||""," ").concat((null===o||void 0===o?void 0:o.lastName)||"").trim()),E=s.servicePrice||0,R=s.addOnTotal||0,L=E+R,U=.08*L,F=L+U;return(0,y.jsxs)(d.A,{children:[(0,y.jsx)(m.A,{variant:"h5",component:"h2",gutterBottom:!0,sx:{fontSize:{xs:"1.25rem",sm:"1.5rem"},fontWeight:600,mb:3},children:"Review Your Booking"}),h&&(0,y.jsx)(u.A,{severity:"error",sx:{mb:3},onClose:()=>p(""),children:h}),(0,y.jsxs)(W.Ay,{container:!0,spacing:3,children:[(0,y.jsx)(W.Ay,{item:!0,xs:12,children:(0,y.jsx)(b.A,{children:(0,y.jsxs)(S.A,{children:[(0,y.jsxs)(d.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,y.jsx)(te.A,{sx:{mr:1,color:"primary.main"}}),(0,y.jsx)(m.A,{variant:"h6",children:"Customer Information"})]}),(0,y.jsxs)(m.A,{variant:"body1",fontWeight:600,children:[null===o||void 0===o?void 0:o.firstName," ",null===o||void 0===o?void 0:o.lastName]}),(0,y.jsx)(m.A,{variant:"body2",color:"text.secondary",children:null===o||void 0===o?void 0:o.email}),(0,y.jsx)(m.A,{variant:"body2",color:"text.secondary",children:null===o||void 0===o?void 0:o.phone})]})})}),(0,y.jsx)(W.Ay,{item:!0,xs:12,md:6,children:(0,y.jsx)(b.A,{children:(0,y.jsxs)(S.A,{children:[(0,y.jsxs)(d.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,y.jsx)(se.A,{sx:{mr:1,color:"primary.main"}}),(0,y.jsx)(m.A,{variant:"h6",children:"Service"})]}),(0,y.jsx)(m.A,{variant:"body1",fontWeight:600,children:s.serviceName}),(0,y.jsxs)(m.A,{variant:"body2",color:"text.secondary",sx:{mt:1},children:[s.startDate&&new Date(s.startDate).toLocaleDateString(),s.endDate&&" - ".concat(new Date(s.endDate).toLocaleDateString())]})]})})}),(0,y.jsx)(W.Ay,{item:!0,xs:12,md:6,children:(0,y.jsx)(b.A,{children:(0,y.jsxs)(S.A,{children:[(0,y.jsxs)(d.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,y.jsx)(ne.A,{sx:{mr:1,color:"primary.main"}}),(0,y.jsx)(m.A,{variant:"h6",children:"Pets"})]}),(0,y.jsxs)(m.A,{variant:"body1",children:[(null===(t=s.petIds)||void 0===t?void 0:t.length)||0," pet(s) selected"]})]})})}),s.addOnIds&&s.addOnIds.length>0&&(0,y.jsx)(W.Ay,{item:!0,xs:12,children:(0,y.jsx)(b.A,{children:(0,y.jsxs)(S.A,{children:[(0,y.jsxs)(m.A,{variant:"h6",gutterBottom:!0,children:["Add-Ons (",s.addOnIds.length,")"]}),(0,y.jsx)(d.A,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:s.addOnIds.map((e,t)=>(0,y.jsx)(O.A,{label:"Add-on ".concat(t+1),color:"primary",variant:"outlined"},e))})]})})}),(0,y.jsx)(W.Ay,{item:!0,xs:12,children:(0,y.jsx)(b.A,{sx:{bgcolor:"primary.50"},children:(0,y.jsxs)(S.A,{children:[(0,y.jsxs)(d.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,y.jsx)(ie.A,{sx:{mr:1,color:"primary.main"}}),(0,y.jsx)(m.A,{variant:"h6",children:"Price Summary"})]}),(0,y.jsxs)(d.A,{sx:{mb:2},children:[(0,y.jsxs)(d.A,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[(0,y.jsx)(m.A,{variant:"body1",children:"Service"}),(0,y.jsxs)(m.A,{variant:"body1",fontWeight:600,children:["$",E.toFixed(2)]})]}),R>0&&(0,y.jsxs)(d.A,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[(0,y.jsx)(m.A,{variant:"body1",children:"Add-Ons"}),(0,y.jsxs)(m.A,{variant:"body1",fontWeight:600,children:["$",R.toFixed(2)]})]}),(0,y.jsxs)(d.A,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[(0,y.jsx)(m.A,{variant:"body2",color:"text.secondary",children:"Subtotal"}),(0,y.jsxs)(m.A,{variant:"body2",color:"text.secondary",children:["$",L.toFixed(2)]})]}),(0,y.jsxs)(d.A,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,y.jsx)(m.A,{variant:"body2",color:"text.secondary",children:"Tax (8%)"}),(0,y.jsxs)(m.A,{variant:"body2",color:"text.secondary",children:["$",U.toFixed(2)]})]}),(0,y.jsx)(Q.A,{sx:{my:2}}),(0,y.jsxs)(d.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,y.jsx)(m.A,{variant:"h6",color:"primary",children:"Total"}),(0,y.jsxs)(m.A,{variant:"h6",color:"primary",fontWeight:700,children:["$",F.toFixed(2)]})]})]})]})})}),(0,y.jsx)(W.Ay,{item:!0,xs:12,children:(0,y.jsx)(b.A,{children:(0,y.jsxs)(S.A,{children:[(0,y.jsxs)(d.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,y.jsx)(ie.A,{sx:{mr:1,color:"primary.main"}}),(0,y.jsx)(m.A,{variant:"h6",children:"Payment Information"})]}),(0,y.jsxs)(W.Ay,{container:!0,spacing:2,children:[(0,y.jsx)(W.Ay,{item:!0,xs:12,children:(0,y.jsx)(k.A,{label:"Card Number",fullWidth:!0,required:!0,value:C,onChange:e=>{const t=e.target.value.replace(/\s/g,"");if(/^\d{0,16}$/.test(t)){var s;const e=(null===(s=t.match(/.{1,4}/g))||void 0===s?void 0:s.join(" "))||t;w(e)}},placeholder:"1234 5678 9012 3456",inputProps:{maxLength:19},helperText:"Test: 4788250000028291 (Visa Approved)"})}),(0,y.jsx)(W.Ay,{item:!0,xs:12,sm:6,children:(0,y.jsx)(k.A,{label:"Expiration Date",fullWidth:!0,required:!0,value:I,onChange:e=>{let t=e.target.value.replace(/\D/g,"");t.length>=2&&(t=t.slice(0,2)+"/"+t.slice(2,4)),t.length<=5&&N(t)},placeholder:"MM/YY",inputProps:{maxLength:5},helperText:"Test: 12/25"})}),(0,y.jsx)(W.Ay,{item:!0,xs:12,sm:6,children:(0,y.jsx)(k.A,{label:"CVV",fullWidth:!0,required:!0,value:D,onChange:e=>{const t=e.target.value.replace(/\D/g,"");t.length<=4&&z(t)},placeholder:"123",inputProps:{maxLength:4},helperText:"Test: 123"})}),(0,y.jsx)(W.Ay,{item:!0,xs:12,children:(0,y.jsx)(k.A,{label:"Cardholder Name",fullWidth:!0,required:!0,value:B,onChange:e=>T(e.target.value),placeholder:"John Doe"})})]}),(0,y.jsxs)(u.A,{severity:"info",sx:{mt:2},children:[(0,y.jsx)(m.A,{variant:"body2",fontWeight:600,children:"Development Mode - Test Cards Available"}),(0,y.jsx)(m.A,{variant:"caption",children:"Visa: 4788250000028291 | Exp: 12/25 | CVV: 123"})]})]})})}),(0,y.jsx)(W.Ay,{item:!0,xs:12,children:(0,y.jsx)(b.A,{children:(0,y.jsx)(S.A,{children:(0,y.jsx)(X.A,{control:(0,y.jsx)(ee.A,{checked:A,onChange:e=>j(e.target.checked),color:"primary"}),label:(0,y.jsxs)(m.A,{variant:"body2",children:["I agree to the"," ",(0,y.jsx)("a",{href:"/terms",target:"_blank",style:{color:"#1976d2"},children:"Terms and Conditions"})," ","and"," ",(0,y.jsx)("a",{href:"/cancellation-policy",target:"_blank",style:{color:"#1976d2"},children:"Cancellation Policy"})]})})})})})]}),(0,y.jsxs)(d.A,{sx:{position:{xs:"fixed",sm:"static"},bottom:{xs:0,sm:"auto"},left:{xs:0,sm:"auto"},right:{xs:0,sm:"auto"},p:{xs:2,sm:0},mt:{xs:0,sm:4},bgcolor:{xs:"background.paper",sm:"transparent"},boxShadow:{xs:"0 -2px 10px rgba(0,0,0,0.1)",sm:"none"},zIndex:{xs:1e3,sm:"auto"},display:"flex",justifyContent:"space-between"},children:[(0,y.jsx)(P.A,{variant:"outlined",size:"large",onClick:r,startIcon:(0,y.jsx)(M.A,{}),disabled:l,sx:{py:{xs:1.5,sm:1.5}},children:"Back"}),(0,y.jsx)(P.A,{variant:"contained",size:"large",onClick:async()=>{if(A)if(C&&I&&D)try{var e,t,i,r,l,d,c;x(!0),v(!0),p("");const h={amount:F,cardNumber:C.replace(/\s/g,""),expiry:I.replace("/",""),cvv:D,name:B,email:null===o||void 0===o?void 0:o.email,address:null===o||void 0===o?void 0:o.address,city:null===o||void 0===o?void 0:o.city,state:null===o||void 0===o?void 0:o.state,zip:null===o||void 0===o?void 0:o.zipCode,orderId:"BOOKING-".concat(Date.now()),capture:!0},u=await ae.M.processCardPayment(h);if(!u||"success"!==u.status||null===(e=u.data)||void 0===e||!e.approved){var m;let e=(null===u||void 0===u||null===(m=u.data)||void 0===m?void 0:m.responseText)||(null===u||void 0===u?void 0:u.message)||(null===u||void 0===u?void 0:u.error)||"Payment declined. Please check your card details and try again.";return p(e),v(!1),void x(!1)}const A={customerId:s.customerId,petId:(null===(t=s.petIds)||void 0===t?void 0:t[0])||"",serviceId:s.serviceId,startDate:s.startDate,endDate:s.endDate,status:"CONFIRMED",totalPrice:F,notes:"Booked via customer portal. Pets: ".concat((null===(i=s.petIds)||void 0===i?void 0:i.length)||0,". Payment: ").concat(null===(r=u.data)||void 0===r?void 0:r.transactionId)},j=await re.u.createReservation(A);a({reservationId:j.id,paymentTransactionId:null===(l=u.data)||void 0===l?void 0:l.transactionId,paymentAuthCode:null===(d=u.data)||void 0===d?void 0:d.authCode,maskedCard:null===(c=u.data)||void 0===c?void 0:c.maskedCard}),n()}catch(j){var h,u;console.error("Error completing booking:",j),p((null===(h=j.response)||void 0===h||null===(u=h.data)||void 0===u?void 0:u.message)||"Failed to complete booking. Please try again.")}finally{x(!1),v(!1)}else p("Please enter complete payment information");else p("Please agree to the terms and conditions")},disabled:!A||l,startIcon:l?(0,y.jsx)(c.A,{size:20}):(0,y.jsx)(Y.A,{}),sx:{py:{xs:1.5,sm:1.5}},children:l?"Processing...":"Complete Booking"})]}),(0,y.jsx)(d.A,{sx:{display:{xs:"block",sm:"none"},height:80}})]})};var le=s(12015),de=s(73684),ce=s(79196),xe=s(98692);const me=e=>{var t;let{bookingData:s}=e;const{customer:n}=f();return(0,y.jsxs)(d.A,{sx:{maxWidth:800,mx:"auto"},children:[(0,y.jsxs)(d.A,{sx:{textAlign:"center",mb:4},children:[(0,y.jsx)(Y.A,{sx:{fontSize:{xs:80,sm:100},color:"success.main",mb:2}}),(0,y.jsx)(m.A,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontSize:{xs:"1.75rem",sm:"2.125rem"},fontWeight:700,color:"success.main"},children:"Booking Confirmed!"}),(0,y.jsx)(m.A,{variant:"h6",color:"text.secondary",sx:{mb:2,fontSize:{xs:"1rem",sm:"1.25rem"}},children:"Thank you for booking with Tailtown Pet Resort"})]}),(0,y.jsxs)(u.A,{severity:"success",icon:(0,y.jsx)(le.A,{}),sx:{mb:4},children:[(0,y.jsxs)(m.A,{variant:"body1",fontWeight:600,children:["Confirmation email sent to ",null===n||void 0===n?void 0:n.email]}),(0,y.jsx)(m.A,{variant:"body2",children:"Please check your inbox for booking details and next steps."})]}),(0,y.jsx)(b.A,{sx:{mb:4},children:(0,y.jsxs)(S.A,{children:[(0,y.jsx)(m.A,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600},children:"Booking Details"}),(0,y.jsx)(Q.A,{sx:{mb:3}}),(0,y.jsxs)(W.Ay,{container:!0,spacing:2,children:[s.reservationId&&(0,y.jsx)(W.Ay,{item:!0,xs:12,children:(0,y.jsxs)(d.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,y.jsx)(m.A,{variant:"body2",color:"text.secondary",children:"Confirmation Number:"}),(0,y.jsx)(m.A,{variant:"body1",fontWeight:600,children:s.reservationId.substring(0,8).toUpperCase()})]})}),(0,y.jsx)(W.Ay,{item:!0,xs:12,children:(0,y.jsxs)(d.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,y.jsx)(m.A,{variant:"body2",color:"text.secondary",children:"Service:"}),(0,y.jsx)(m.A,{variant:"body1",fontWeight:600,children:s.serviceName})]})}),s.startDate&&(0,y.jsx)(W.Ay,{item:!0,xs:12,children:(0,y.jsxs)(d.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,y.jsx)(m.A,{variant:"body2",color:"text.secondary",children:"Date:"}),(0,y.jsxs)(m.A,{variant:"body1",fontWeight:600,children:[new Date(s.startDate).toLocaleDateString(),s.endDate&&" - ".concat(new Date(s.endDate).toLocaleDateString())]})]})}),(0,y.jsx)(W.Ay,{item:!0,xs:12,children:(0,y.jsxs)(d.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,y.jsx)(m.A,{variant:"body2",color:"text.secondary",children:"Pets:"}),(0,y.jsxs)(m.A,{variant:"body1",fontWeight:600,children:[(null===(t=s.petIds)||void 0===t?void 0:t.length)||0," pet(s)"]})]})}),s.addOnIds&&s.addOnIds.length>0&&(0,y.jsx)(W.Ay,{item:!0,xs:12,children:(0,y.jsxs)(d.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,y.jsx)(m.A,{variant:"body2",color:"text.secondary",children:"Add-Ons:"}),(0,y.jsxs)(m.A,{variant:"body1",fontWeight:600,children:[s.addOnIds.length," selected"]})]})}),s.paymentTransactionId&&(0,y.jsxs)(W.Ay,{item:!0,xs:12,children:[(0,y.jsx)(Q.A,{sx:{my:2}}),(0,y.jsxs)(d.A,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[(0,y.jsx)(m.A,{variant:"body2",color:"text.secondary",children:"Payment Method:"}),(0,y.jsx)(m.A,{variant:"body1",fontWeight:600,children:s.maskedCard||"Credit Card"})]}),(0,y.jsxs)(d.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,y.jsx)(m.A,{variant:"body2",color:"text.secondary",children:"Transaction ID:"}),(0,y.jsx)(m.A,{variant:"body1",fontWeight:600,children:s.paymentTransactionId})]})]})]})]})}),(0,y.jsx)(b.A,{sx:{mb:4,bgcolor:"primary.50"},children:(0,y.jsxs)(S.A,{children:[(0,y.jsx)(m.A,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600},children:"What's Next?"}),(0,y.jsxs)(d.A,{component:"ul",sx:{pl:2,mb:0},children:[(0,y.jsx)(m.A,{component:"li",variant:"body2",sx:{mb:1},children:"You'll receive a confirmation email with all booking details"}),(0,y.jsx)(m.A,{component:"li",variant:"body2",sx:{mb:1},children:"We'll send you a reminder 24 hours before your appointment"}),(0,y.jsx)(m.A,{component:"li",variant:"body2",sx:{mb:1},children:"Please arrive 10 minutes early for check-in"}),(0,y.jsx)(m.A,{component:"li",variant:"body2",children:"Bring your pet's vaccination records if this is your first visit"})]})]})}),(0,y.jsxs)(W.Ay,{container:!0,spacing:2,sx:{mb:4},children:[(0,y.jsx)(W.Ay,{item:!0,xs:12,sm:6,children:(0,y.jsx)(P.A,{variant:"outlined",fullWidth:!0,size:"large",startIcon:(0,y.jsx)(de.A,{}),onClick:()=>{window.print()},sx:{py:1.5},children:"Print Confirmation"})}),(0,y.jsx)(W.Ay,{item:!0,xs:12,sm:6,children:(0,y.jsx)(P.A,{variant:"outlined",fullWidth:!0,size:"large",startIcon:(0,y.jsx)(ce.A,{}),href:"/book",sx:{py:1.5},children:"Book Another"})}),(0,y.jsx)(W.Ay,{item:!0,xs:12,children:(0,y.jsx)(P.A,{variant:"contained",fullWidth:!0,size:"large",startIcon:(0,y.jsx)(xe.A,{}),href:"/",sx:{py:1.5},children:"Return to Home"})})]}),(0,y.jsx)(b.A,{children:(0,y.jsxs)(S.A,{sx:{textAlign:"center"},children:[(0,y.jsx)(m.A,{variant:"h6",gutterBottom:!0,children:"Need Help?"}),(0,y.jsx)(m.A,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Call us at (555) 123-4567"}),(0,y.jsx)(m.A,{variant:"body2",color:"text.secondary",children:"Email: info@tailtown.com"})]})})]})},he=["Select Service","Choose Date & Time","Select Pets","Add-Ons","Your Information","Review & Pay"],ue=()=>{(0,r.Zp)();const[e]=(0,a.ok)(),t=(0,o.A)(),s=(0,l.A)(t.breakpoints.down("sm")),{customer:j,isAuthenticated:g,isLoading:v}=f(),[b,C]=(0,i.useState)(0),[w,S]=(0,i.useState)(!1),[k,I]=(0,i.useState)(""),[P,W]=(0,i.useState)({}),[N,D]=(0,i.useState)(!1),[B,O]=(0,i.useState)(!g);(0,i.useEffect)(()=>{const t="true"===e.get("embedded");D(t);const s=e.get("serviceId");s&&W(e=>(0,n.A)((0,n.A)({},e),{},{serviceId:s})),g&&j&&(W(e=>(0,n.A)((0,n.A)({},e),{},{customerId:j.id,customerName:"".concat(j.firstName," ").concat(j.lastName),customerEmail:j.email,customerPhone:j.phone,customerFirstName:j.firstName,customerLastName:j.lastName,customerAddress:j.address,customerCity:j.city,customerState:j.state,customerZipCode:j.zipCode,emergencyContact:j.emergencyContact,emergencyPhone:j.emergencyPhone})),O(!1))},[e,g,j]);const T=()=>{C(e=>e+1),s&&window.scrollTo({top:0,behavior:"smooth"})},E=()=>{C(e=>e-1),s&&window.scrollTo({top:0,behavior:"smooth"})},R=e=>{W(t=>(0,n.A)((0,n.A)({},t),e))};return v?(0,y.jsx)(d.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:(0,y.jsx)(c.A,{})}):B||!g?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(A.mg,{children:(0,y.jsx)("title",{children:"Sign In | Tailtown Pet Resort"})}),(0,y.jsx)(z,{onSuccess:()=>O(!1)})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(A.mg,{children:[(0,y.jsx)("title",{children:"Book Your Pet's Stay | Tailtown Pet Resort"}),(0,y.jsx)("meta",{name:"description",content:"Book boarding, daycare, grooming, and training services for your pet. Easy online booking with real-time availability."}),(0,y.jsx)("meta",{name:"keywords",content:"pet boarding, dog daycare, pet grooming, dog training, pet resort booking"}),(0,y.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, maximum-scale=5.0"}),(0,y.jsx)("meta",{property:"og:title",content:"Book Your Pet's Stay | Tailtown Pet Resort"}),(0,y.jsx)("meta",{property:"og:description",content:"Book boarding, daycare, grooming, and training services for your pet."}),(0,y.jsx)("meta",{property:"og:type",content:"website"}),(0,y.jsx)("meta",{name:"mobile-web-app-capable",content:"yes"}),(0,y.jsx)("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),(0,y.jsx)("meta",{name:"apple-mobile-web-app-status-bar-style",content:"default"})]}),(0,y.jsx)(d.A,{sx:{minHeight:N?"auto":"100vh",bgcolor:N?"transparent":"background.default",py:N?2:{xs:2,sm:4}},children:(0,y.jsxs)(x.A,{maxWidth:"lg",sx:{px:{xs:2,sm:3}},children:[!N&&(0,y.jsxs)(d.A,{sx:{mb:4,textAlign:"center"},children:[(0,y.jsx)(d.A,{component:"h1",sx:{fontSize:{xs:"1.75rem",sm:"2.5rem"},fontWeight:700,color:"primary.main",mb:1},children:"Book Your Pet's Stay"}),(0,y.jsx)(d.A,{component:"p",sx:{fontSize:{xs:"0.875rem",sm:"1rem"},color:"text.secondary",maxWidth:600,mx:"auto"},children:"Reserve boarding, daycare, grooming, or training services in just a few easy steps"})]}),!N&&(0,y.jsxs)(d.A,{sx:{mb:3},children:[(0,y.jsxs)(d.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[(0,y.jsxs)(m.A,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:["Step ",b+1," of ",he.length]}),(0,y.jsx)(m.A,{variant:"body2",fontWeight:600,sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:he[b]})]}),(0,y.jsx)(h.A,{variant:"determinate",value:b/(he.length-1)*100,sx:{height:6,borderRadius:3,backgroundColor:"grey.200","& .MuiLinearProgress-bar":{borderRadius:3}}})]}),k&&(0,y.jsx)(u.A,{severity:"error",sx:{mb:3},onClose:()=>I(""),children:k}),(0,y.jsx)(p.A,{elevation:N?0:3,sx:{p:{xs:2,sm:4},bgcolor:N?"transparent":"background.paper",borderRadius:2},children:w?(0,y.jsx)(d.A,{sx:{display:"flex",justifyContent:"center",py:8},children:(0,y.jsx)(c.A,{})}):(()=>{switch(b){case 0:return(0,y.jsx)(F,{bookingData:P,onNext:T,onUpdate:R});case 1:return(0,y.jsx)($,{bookingData:P,onNext:T,onBack:E,onUpdate:R});case 2:return(0,y.jsx)(_,{bookingData:P,onNext:T,onBack:E,onUpdate:R});case 3:return(0,y.jsx)(Z,{bookingData:P,onNext:T,onBack:E,onUpdate:R});case 4:return(0,y.jsx)(K,{bookingData:P,onNext:T,onBack:E,onUpdate:R});case 5:return(0,y.jsx)(oe,{bookingData:P,onNext:T,onBack:E,onUpdate:R});case 6:return(0,y.jsx)(me,{bookingData:P});default:return null}})()}),!N&&(0,y.jsx)(d.A,{sx:{mt:4,textAlign:"center",fontSize:"0.875rem",color:"text.secondary"},children:"Need help? Call us at (555) 123-4567 or email info@tailtown.com"})]})})]})},pe=()=>(0,y.jsx)(v,{children:(0,y.jsx)(ue,{})})}}]);