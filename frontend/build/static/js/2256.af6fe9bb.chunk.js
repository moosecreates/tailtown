"use strict";(self.webpackChunktailtown_frontend=self.webpackChunktailtown_frontend||[]).push([[2256],{62256:(e,t,s)=>{s.r(t),s.d(t,{default:()=>D});var r=s(9950),n=s(78317),a=s(46639),i=s(69019),o=s(84142),l=s(25333),c=s(82053),d=s(25277),x=s(48089),h=s(50704),j=s(249),A=s(41413),y=s(26050),p=s(83563),u=s(64320),g=s(64367),f=s(26858),m=s(68476),b=s(40421),v=s(52946),C=s(424),w=s(31213),S=s(65833),k=s(44414);w.l;const D=()=>{const[e,t]=(0,r.useState)("day"),[s,w]=(0,r.useState)([]),[D,P]=(0,r.useState)(!0),[T,E]=(0,r.useState)(new Date);(0,r.useEffect)(()=>{W()},[T]);const W=async()=>{try{P(!0);const e=await S.A.getTodaySchedule();w(e)}catch(e){console.error("Error fetching schedule:",e)}finally{P(!1)}},N=e=>{switch(e.toUpperCase()){case"SCHEDULED":return"primary";case"IN_PROGRESS":return"success";case"COMPLETED":default:return"default";case"CANCELLED":return"error"}},L=e=>{const[t,s]=e.split(":").map(Number),r=new Date;return r.setHours(t,s,0,0),r.getTime()};return D?(0,k.jsxs)(n.A,{children:[(0,k.jsx)(C.i,{title:"My Schedule",showNotifications:!0}),(0,k.jsx)(n.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"},children:(0,k.jsx)(a.A,{})})]}):(0,k.jsxs)(n.A,{sx:{pb:8},children:[(0,k.jsx)(C.i,{title:"My Schedule",showNotifications:!0}),(0,k.jsx)(n.A,{sx:{borderBottom:1,borderColor:"divider",backgroundColor:"background.paper"},children:(0,k.jsxs)(i.A,{value:e,onChange:(e,s)=>t(s),variant:"fullWidth",children:[(0,k.jsx)(o.A,{icon:(0,k.jsx)(v.A,{}),iconPosition:"start",label:"Day",value:"day"}),(0,k.jsx)(o.A,{icon:(0,k.jsx)(g.A,{}),iconPosition:"start",label:"Week",value:"week"})]})}),(0,k.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",p:2,backgroundColor:"background.paper",borderBottom:1,borderColor:"divider"},children:[(0,k.jsx)(l.A,{onClick:()=>{const e=new Date(T);e.setDate(e.getDate()-1),E(e)},children:(0,k.jsx)(f.A,{})}),(0,k.jsxs)(n.A,{sx:{textAlign:"center"},children:[(0,k.jsx)(c.A,{variant:"h6",fontWeight:600,children:(z=T,z.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"}))}),(0,k.jsx)(d.A,{label:"Today",size:"small",onClick:()=>{E(new Date)},sx:{mt:.5}})]}),(0,k.jsx)(l.A,{onClick:()=>{const e=new Date(T);e.setDate(e.getDate()+1),E(e)},children:(0,k.jsx)(m.A,{})})]}),(0,k.jsx)(x.A,{elevation:0,sx:{m:2,backgroundColor:"primary.light"},children:(0,k.jsx)(h.A,{children:(0,k.jsxs)(n.A,{sx:{display:"flex",justifyContent:"space-around",textAlign:"center"},children:[(0,k.jsxs)(n.A,{children:[(0,k.jsx)(c.A,{variant:"h5",fontWeight:600,children:s.length}),(0,k.jsx)(c.A,{variant:"caption",color:"text.secondary",children:"Shifts"})]}),(0,k.jsxs)(n.A,{children:[(0,k.jsx)(c.A,{variant:"h5",fontWeight:600,children:(()=>{let e=0;return s.forEach(t=>{const s=L(t.startTime),r=L(t.endTime);e+=(r-s)/36e5}),e.toFixed(1)})()}),(0,k.jsx)(c.A,{variant:"caption",color:"text.secondary",children:"Hours"})]})]})})}),(0,k.jsx)(n.A,{sx:{p:2,pb:10},children:0===s.length?(0,k.jsx)(x.A,{elevation:1,children:(0,k.jsx)(h.A,{sx:{textAlign:"center",py:4},children:(0,k.jsx)(c.A,{variant:"body1",color:"text.secondary",children:"No shifts scheduled for this day"})})}):(0,k.jsx)(j.A,{disablePadding:!0,children:s.map((e,t)=>(0,k.jsx)(x.A,{elevation:1,sx:{mb:2},children:(0,k.jsxs)(h.A,{children:[(0,k.jsxs)(n.A,{sx:{display:"flex",alignItems:"flex-start",mb:2},children:[(0,k.jsx)(A.A,{sx:{bgcolor:"primary.main",width:48,height:48,mr:2},children:(0,k.jsx)(u.A,{})}),(0,k.jsxs)(n.A,{sx:{flexGrow:1},children:[(0,k.jsx)(c.A,{variant:"h6",fontWeight:600,children:e.title}),(0,k.jsx)(c.A,{variant:"body2",color:"text.secondary",children:e.role||"Staff Member"})]}),(0,k.jsx)(d.A,{label:e.status,size:"small",color:N(e.status)})]}),(0,k.jsxs)(j.A,{disablePadding:!0,children:[(0,k.jsxs)(y.Ay,{disablePadding:!0,sx:{py:.5},children:[(0,k.jsx)(u.A,{sx:{mr:1,fontSize:20,color:"text.secondary"}}),(0,k.jsx)(p.A,{primary:"".concat(e.time),secondary:"".concat(e.startTime," - ").concat(e.endTime),primaryTypographyProps:{variant:"body2",fontWeight:500},secondaryTypographyProps:{variant:"caption"}})]}),e.location&&(0,k.jsxs)(y.Ay,{disablePadding:!0,sx:{py:.5},children:[(0,k.jsx)(b.A,{sx:{mr:1,fontSize:20,color:"text.secondary"}}),(0,k.jsx)(p.A,{primary:e.location,primaryTypographyProps:{variant:"body2"}})]})]})]})},e.id))})})]});var z}}}]);