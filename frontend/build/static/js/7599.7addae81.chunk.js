"use strict";(self.webpackChunktailtown_frontend=self.webpackChunktailtown_frontend||[]).push([[7599],{7599:(e,t,i)=>{i.r(t),i.d(t,{default:()=>b});var l=i(9950),r=i(28429),n=i(42074),s=i(43939),a=i(29714),o=i(78317),d=i(2235),c=i(36080),m=i(82053),u=i(65429),x=i(8145),h=i(10226),y=i(46639),p=i(63189),A=i(69755),j=i(82932),g=i(44414);const f=a.Ik().shape({email:a.Yj().email("Invalid email address").required("Email is required")}),b=()=>{(0,r.Zp)();const[e,t]=(0,l.useState)(null),[i,a]=(0,l.useState)(null);return(0,g.jsx)(o.A,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"background.default",p:2},children:(0,g.jsxs)(d.A,{elevation:3,sx:{width:"100%",maxWidth:450,p:4},children:[(0,g.jsx)(o.A,{sx:{mb:3},children:(0,g.jsxs)(c.A,{component:n.N_,to:"/login",sx:{display:"flex",alignItems:"center",gap:.5,textDecoration:"none",color:"primary.main","&:hover":{textDecoration:"underline"}},children:[(0,g.jsx)(p.A,{fontSize:"small"}),"Back to Sign In"]})}),(0,g.jsxs)(o.A,{sx:{textAlign:"center",mb:3},children:[(0,g.jsx)(A.A,{sx:{fontSize:48,color:"primary.main",mb:2}}),(0,g.jsx)(m.A,{variant:"h5",component:"h1",gutterBottom:!0,children:"Forgot Password?"}),(0,g.jsx)(m.A,{variant:"body2",color:"text.secondary",children:"Enter your email address and we'll send you a link to reset your password."})]}),e&&(0,g.jsx)(u.A,{severity:"success",sx:{mb:3},children:e}),i&&(0,g.jsx)(u.A,{severity:"error",sx:{mb:3},children:i}),!e&&(0,g.jsx)(s.l1,{initialValues:{email:""},validationSchema:f,onSubmit:async(e,i)=>{let{setSubmitting:l}=i;try{a(null),t(null),await j.Ay.post("/staff/request-reset",{email:e.email}),t("If your email is registered, you will receive a password reset link shortly. Please check your email.")}catch(r){t("If your email is registered, you will receive a password reset link shortly. Please check your email.")}finally{l(!1)}},children:e=>{let{errors:t,touched:i,isSubmitting:l}=e;return(0,g.jsxs)(s.lV,{children:[(0,g.jsx)(s.D0,{as:x.A,name:"email",label:"Email Address",fullWidth:!0,margin:"normal",variant:"outlined",placeholder:"Enter your email",error:i.email&&Boolean(t.email),helperText:i.email&&t.email,disabled:l,autoFocus:!0}),(0,g.jsx)(h.A,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:l,sx:{mt:3,mb:2,py:1.2},children:l?(0,g.jsx)(y.A,{size:24}):"Send Reset Link"})]})}}),e&&(0,g.jsx)(o.A,{sx:{textAlign:"center",mt:3},children:(0,g.jsx)(h.A,{component:n.N_,to:"/login",variant:"outlined",fullWidth:!0,children:"Return to Sign In"})}),(0,g.jsx)(o.A,{sx:{mt:3,textAlign:"center"},children:(0,g.jsx)(m.A,{variant:"caption",color:"text.secondary",children:"For security reasons, we'll send the reset link even if the email isn't registered."})})]})})}}}]);