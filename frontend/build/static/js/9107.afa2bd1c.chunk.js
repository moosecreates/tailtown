"use strict";(self.webpackChunktailtown_frontend=self.webpackChunktailtown_frontend||[]).push([[9107],{99107:(t,a,e)=>{e.d(a,{y:()=>s});var n=e(26910);const o={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!1,REACT_APP_TENANT_ID:"dev",REACT_APP_API_URL:"http://localhost:4004",REACT_APP_RESERVATION_API_URL:"http://localhost:4003"}.REACT_APP_CUSTOMER_SERVICE_URL||"http://localhost:4004",c=()=>{const t=localStorage.getItem("token");return t?{Authorization:"Bearer ".concat(t)}:{}};const s=new class{async getAllTenants(t){const a=new URLSearchParams;null!==t&&void 0!==t&&t.status&&a.append("status",t.status),void 0!==(null===t||void 0===t?void 0:t.isActive)&&a.append("isActive",t.isActive.toString()),void 0!==(null===t||void 0===t?void 0:t.isPaused)&&a.append("isPaused",t.isPaused.toString());return(await n.A.get("".concat(o,"/api/tenants?").concat(a.toString()),{headers:c()})).data.data}async getTenantById(t){return(await n.A.get("".concat(o,"/api/tenants/").concat(t),{headers:c()})).data.data}async getTenantBySubdomain(t){const a=(await n.A.get("".concat(o,"/api/tenants/subdomain/").concat(t),{headers:c()})).data.data;if(a&&a.timezone)try{localStorage.setItem("tenant_timezone",a.timezone)}catch(e){console.warn("Could not store tenant timezone in localStorage:",e)}return a}async getCurrentTenantTimezone(){try{const t=localStorage.getItem("tenant_timezone");if(t)return t;const a=window.location.hostname.split(".")[0];return(await this.getTenantBySubdomain(a)).timezone||"America/Denver"}catch(t){return console.warn("Could not fetch tenant timezone, using default:",t),"America/Denver"}}async createTenant(t){return(await n.A.post("".concat(o,"/api/tenants"),t,{headers:c()})).data.data}async updateTenant(t,a){return(await n.A.put("".concat(o,"/api/tenants/").concat(t),a,{headers:c()})).data.data}async pauseTenant(t){await n.A.post("".concat(o,"/api/tenants/").concat(t,"/pause"),{},{headers:c()})}async reactivateTenant(t){await n.A.post("".concat(o,"/api/tenants/").concat(t,"/reactivate"),{},{headers:c()})}async deleteTenant(t){await n.A.delete("".concat(o,"/api/tenants/").concat(t),{headers:c()})}async getTenantUsage(t){return(await n.A.get("".concat(o,"/api/tenants/").concat(t,"/usage"),{headers:c()})).data.data}}}}]);