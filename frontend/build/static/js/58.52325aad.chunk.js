"use strict";(self.webpackChunktailtown_frontend=self.webpackChunktailtown_frontend||[]).push([[58],{60058:(e,a,s)=>{s.r(a),s.d(a,{default:()=>j});var r=s(9950),i=s(28429),l=s(42074),n=s(43939),t=s(29714),d=s(78317),o=s(82053),m=s(65429),p=s(8145),h=s(10226),u=s(46639),c=s(36080),x=s(91367),w=s(44414);const b=t.Ik().shape({email:t.Yj().email("Invalid email address").required("Email is required"),password:t.Yj().required("Password is required")}),j=()=>{const{login:e}=(0,x.As)(),a=(0,i.Zp)(),[s,t]=(0,r.useState)(null);return(0,w.jsxs)(d.A,{sx:{width:"100%",maxWidth:400,mx:"auto"},children:[(0,w.jsx)(o.A,{variant:"h5",component:"h2",sx:{mb:3,textAlign:"center"},children:"Sign In"}),s&&(0,w.jsx)(m.A,{severity:"error",sx:{mb:3},children:s}),(0,w.jsx)(n.l1,{initialValues:{email:"",password:""},validationSchema:b,onSubmit:async(s,r)=>{let{setSubmitting:i}=r;try{await e(s.email,s.password),a("/dashboard")}catch(l){t("Invalid email or password")}finally{i(!1)}},children:e=>{let{errors:a,touched:s,isSubmitting:r}=e;return(0,w.jsxs)(n.lV,{children:[(0,w.jsx)(n.D0,{as:p.A,name:"email",label:"Email Address",fullWidth:!0,margin:"normal",variant:"outlined",error:s.email&&Boolean(a.email),helperText:s.email&&a.email,disabled:r,InputLabelProps:{shrink:!0}}),(0,w.jsx)(n.D0,{as:p.A,name:"password",label:"Password",type:"password",fullWidth:!0,margin:"normal",variant:"outlined",error:s.password&&Boolean(a.password),helperText:s.password&&a.password,disabled:r,InputLabelProps:{shrink:!0}}),(0,w.jsx)(h.A,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:r,sx:{mt:3,mb:2,py:1.2},children:r?(0,w.jsx)(u.A,{size:24}):"Sign In"}),(0,w.jsx)(d.A,{sx:{textAlign:"center",mt:2},children:(0,w.jsx)(c.A,{component:l.N_,to:"/forgot-password",variant:"body2",children:"Forgot password?"})})]})}})]})}}}]);