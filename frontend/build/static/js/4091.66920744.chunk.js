"use strict";(self.webpackChunktailtown_frontend=self.webpackChunktailtown_frontend||[]).push([[4091],{64091:(e,n,i)=>{i.r(n),i.d(n,{default:()=>g});var t=i(9950),s=i(28429),r=i(62999),o=i(78317),l=i(46639),a=i(65429),c=i(10226),d=i(2235),x=i(82053),h=i(74745),m=i(60899),A=i(4983),j=i(16632),y=i(9768),v=i(37736),u=i(44414);const g=()=>{var e,n,i,g,b;const{checkInId:p}=(0,s.g)(),f=(0,s.Zp)(),[k,C]=(0,t.useState)(!0),[I,w]=(0,t.useState)(null),[S,B]=(0,t.useState)(null);(0,t.useEffect)(()=>{D()},[p]);const D=async()=>{try{C(!0);const e=await v.A.getCheckInById(p);w(e.data)}catch(i){var e,n;console.error("Error loading check-in:",i),B((null===(e=i.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message)||"Failed to load check-in details")}finally{C(!1)}};return k?(0,u.jsx)(r.A,{children:(0,u.jsx)(o.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:(0,u.jsx)(l.A,{})})}):S?(0,u.jsx)(r.A,{children:(0,u.jsxs)(o.A,{sx:{py:4},children:[(0,u.jsx)(a.A,{severity:"error",children:S}),(0,u.jsx)(c.A,{onClick:()=>f("/dashboard"),sx:{mt:2},children:"Return to Dashboard"})]})}):(0,u.jsx)(r.A,{maxWidth:"md",children:(0,u.jsxs)(o.A,{sx:{py:4},children:[(0,u.jsxs)(d.A,{sx:{p:4,textAlign:"center",mb:3},children:[(0,u.jsx)(A.A,{sx:{fontSize:80,color:"success.main",mb:2}}),(0,u.jsx)(x.A,{variant:"h4",gutterBottom:!0,children:"Check-In Complete!"}),(0,u.jsxs)(x.A,{variant:"body1",color:"text.secondary",paragraph:!0,children:[null===I||void 0===I||null===(e=I.pet)||void 0===e?void 0:e.name," has been successfully checked in."]})]}),(0,u.jsxs)(d.A,{sx:{p:3,mb:3},children:[(0,u.jsx)(x.A,{variant:"h6",gutterBottom:!0,children:"Check-In Summary"}),(0,u.jsx)(h.A,{sx:{my:2}}),(0,u.jsxs)(m.Ay,{container:!0,spacing:2,children:[(0,u.jsxs)(m.Ay,{item:!0,xs:6,children:[(0,u.jsx)(x.A,{variant:"subtitle2",color:"text.secondary",children:"Pet Name"}),(0,u.jsx)(x.A,{variant:"body1",children:null===I||void 0===I||null===(n=I.pet)||void 0===n?void 0:n.name})]}),(0,u.jsxs)(m.Ay,{item:!0,xs:6,children:[(0,u.jsx)(x.A,{variant:"subtitle2",color:"text.secondary",children:"Pet Type"}),(0,u.jsx)(x.A,{variant:"body1",children:null===I||void 0===I||null===(i=I.pet)||void 0===i?void 0:i.type})]}),(0,u.jsxs)(m.Ay,{item:!0,xs:6,children:[(0,u.jsx)(x.A,{variant:"subtitle2",color:"text.secondary",children:"Check-In Time"}),(0,u.jsx)(x.A,{variant:"body1",children:new Date(null===I||void 0===I?void 0:I.checkInTime).toLocaleString()})]}),(0,u.jsxs)(m.Ay,{item:!0,xs:6,children:[(0,u.jsx)(x.A,{variant:"subtitle2",color:"text.secondary",children:"Checked In By"}),(0,u.jsx)(x.A,{variant:"body1",children:(null===I||void 0===I?void 0:I.checkInBy)||"Staff"})]})]}),(0,u.jsx)(h.A,{sx:{my:2}}),(0,u.jsxs)(m.Ay,{container:!0,spacing:2,children:[(0,u.jsxs)(m.Ay,{item:!0,xs:4,children:[(0,u.jsx)(x.A,{variant:"subtitle2",color:"text.secondary",children:"Medications"}),(0,u.jsx)(x.A,{variant:"h6",color:"primary.main",children:(null===I||void 0===I||null===(g=I.medications)||void 0===g?void 0:g.length)||0})]}),(0,u.jsxs)(m.Ay,{item:!0,xs:4,children:[(0,u.jsx)(x.A,{variant:"subtitle2",color:"text.secondary",children:"Belongings"}),(0,u.jsx)(x.A,{variant:"h6",color:"primary.main",children:(null===I||void 0===I||null===(b=I.belongings)||void 0===b?void 0:b.length)||0})]}),(0,u.jsxs)(m.Ay,{item:!0,xs:4,children:[(0,u.jsx)(x.A,{variant:"subtitle2",color:"text.secondary",children:"Agreement"}),(0,u.jsx)(x.A,{variant:"h6",color:"success.main",children:null!==I&&void 0!==I&&I.agreement?"\u2713 Signed":"\u2717 Not Signed"})]})]})]}),(null===I||void 0===I?void 0:I.medications)&&I.medications.length>0&&(0,u.jsxs)(d.A,{sx:{p:3,mb:3},children:[(0,u.jsxs)(x.A,{variant:"h6",gutterBottom:!0,children:["Medications (",I.medications.length,")"]}),(0,u.jsx)(h.A,{sx:{my:2}}),I.medications.map((e,n)=>(0,u.jsxs)(o.A,{sx:{mb:2},children:[(0,u.jsx)(x.A,{variant:"subtitle1",fontWeight:"bold",children:e.medicationName}),(0,u.jsxs)(x.A,{variant:"body2",color:"text.secondary",children:["Dosage: ",e.dosage," | Frequency: ",e.frequency]}),(0,u.jsxs)(x.A,{variant:"body2",color:"text.secondary",children:["Method: ",e.administrationMethod.replace(/_/g," "),e.timeOfDay&&" | Time: ".concat(e.timeOfDay),e.withFood&&" | Give with food"]})]},n))]}),(null===I||void 0===I?void 0:I.belongings)&&I.belongings.length>0&&(0,u.jsxs)(d.A,{sx:{p:3,mb:3},children:[(0,u.jsxs)(x.A,{variant:"h6",gutterBottom:!0,children:["Belongings (",I.belongings.length,")"]}),(0,u.jsx)(h.A,{sx:{my:2}}),I.belongings.map((e,n)=>(0,u.jsxs)(x.A,{variant:"body2",sx:{mb:1},children:["\u2022 ",e.quantity,"x ",e.itemType," - ",e.description,e.color&&" (".concat(e.color,")")]},n))]}),(0,u.jsxs)(o.A,{sx:{display:"flex",gap:2,justifyContent:"center",mt:4,"@media print":{display:"none"}},children:[(0,u.jsx)(c.A,{variant:"outlined",startIcon:(0,u.jsx)(j.A,{}),onClick:()=>{window.print()},children:"Print Summary"}),(0,u.jsx)(c.A,{variant:"contained",startIcon:(0,u.jsx)(y.A,{}),onClick:()=>f("/dashboard"),children:"Return to Dashboard"})]})]})})}}}]);