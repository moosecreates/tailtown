"use strict";(self.webpackChunktailtown_frontend=self.webpackChunktailtown_frontend||[]).push([[1976],{41976:(e,a,t)=>{t.d(a,{V:()=>n});var s=t(89379),r=t(82932);const n={getAllServices:async e=>(await r.Ay.get("/api/services",{params:e})).data,getServiceById:async function(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{return(await r.Ay.get("/api/services/".concat(e),{params:{includeDeleted:a}})).data}catch(t){if(t.response&&404===t.response.status)throw new Error("Service not found or has been deleted");throw t}},createService:async e=>(await r.Ay.post("/api/services",e)).data,updateService:async(e,a)=>{try{const{name:t,description:s,duration:n,price:i,serviceCategory:c,isActive:o,requiresStaff:d,notes:p,availableAddOns:v}=a,y={name:t,description:s,duration:n,price:i,serviceCategory:c,isActive:void 0===o||o,requiresStaff:d,notes:p,availableAddOns:null===v||void 0===v?void 0:v.map(e=>({name:e.name,description:e.description,price:e.price,duration:e.duration}))};return(await r.Ay.put("/api/services/".concat(e),y)).data}catch(t){let e="Failed to update service";throw t.response&&t.response.data&&t.response.data.message?e=t.response.data.message:t.message&&(e=t.message),new Error(e)}},deleteService:async function(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{return(await r.Ay.delete("/api/services/".concat(e),{params:{force:a}})).data}catch(t){if(t.response&&400===t.response.status){const a=await r.Ay.patch("/api/services/".concat(e,"/deactivate"));return(0,s.A)((0,s.A)({},a.data),{},{message:"Service has been deactivated instead of deleted because it has reservations"})}let a="Failed to delete service";throw t.response&&t.response.data&&t.response.data.message?a=t.response.data.message:t.message&&(a=t.message),new Error(a)}},deactivateService:async e=>(await r.Ay.patch("/api/services/".concat(e,"/deactivate"))).data,getServiceAddOns:async e=>{try{const a=await r.Ay.get("/api/services/".concat(e));let t="";a.data&&(a.data.category?t=a.data.category:a.data.data&&a.data.data.serviceCategory&&(t=a.data.data.serviceCategory));const s=await r.Ay.get("/api/services/".concat(e,"/add-ons"));return s&&s.data?Array.isArray(s.data)?s.data:s.data.data&&Array.isArray(s.data.data)?s.data.data:s.data.addOns&&Array.isArray(s.data.addOns)?s.data.addOns:s.data:(console.warn("serviceManagement: No add-ons data found in response"),[])}catch(a){throw console.error("serviceManagement: Error fetching add-ons:",a),console.error("serviceManagement: Error details:",a.message),a.response&&(console.error("serviceManagement: Error response status:",a.response.status),console.error("serviceManagement: Error response data:",a.response.data)),a}},getServiceReservations:async(e,a)=>(await r.Ay.get("/api/services/".concat(e,"/reservations"),{params:a})).data}}}]);